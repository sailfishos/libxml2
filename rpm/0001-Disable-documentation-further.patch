From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Pekka Vuorela <pekka.vuorela@jolla.com>
Date: Tue, 10 Jan 2023 18:00:06 +0200
Subject: [PATCH] Disable documentation further.

Suppress documentation installation, as it causes problems in our build

Signed-off-by: Marko Saukko <marko.saukko@jolla.com>
---
 Makefile.    | 0
 Makefile.am  | 8 ++++----
 configure.ac | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)
 create mode 100644 Makefile.

diff --git a/Makefile. b/Makefile.
new file mode 100644
index 00000000..e69de29b
diff --git a/Makefile.am b/Makefile.am
index 316109b1..3d643c32 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -2,12 +2,12 @@
 
 ACLOCAL_AMFLAGS = -I m4
 
-SUBDIRS = include . doc example fuzz xstc
+SUBDIRS = include . fuzz xstc
 if WITH_PYTHON
 SUBDIRS += python
 endif
 
-DIST_SUBDIRS = include . doc example fuzz python xstc
+DIST_SUBDIRS = include . fuzz python xstc
 
 AM_CPPFLAGS = -I$(top_builddir)/include -I$(srcdir)/include -DSYSCONFDIR='"$(sysconfdir)"'
 
@@ -408,8 +408,8 @@ cmake_DATA = libxml2-config.cmake
 #
 # Install the tests program sources as examples 
 #
-examplesdir = $(docdir)/examples
-examples_DATA = xmllint.c
+#examplesdir = $(docdir)/examples
+#examples_DATA = xmllint.c
 
 tst: tst.c
 	$(CC) $(CFLAGS) -Iinclude -o tst tst.c .libs/libxml2.a -lpthread -lm -lz -llzma
diff --git a/configure.ac b/configure.ac
index 7f240368..7bb852a9 100644
--- a/configure.ac
+++ b/configure.ac
@@ -1437,7 +1437,7 @@ AC_SUBST(RELDATE)
 AC_SUBST(PYTHON_TESTS)
 
 # keep on one line for cygwin c.f. #130896
-AC_CONFIG_FILES([libxml2.spec:libxml.spec.in Makefile include/Makefile include/libxml/Makefile doc/Makefile doc/examples/Makefile doc/devhelp/Makefile example/Makefile fuzz/Makefile python/Makefile python/tests/Makefile xstc/Makefile include/libxml/xmlversion.h libxml-2.0.pc libxml-2.0-uninstalled.pc libxml2-config.cmake])
+AC_CONFIG_FILES([libxml2.spec:libxml.spec.in Makefile include/Makefile include/libxml/Makefile example/Makefile fuzz/Makefile python/Makefile python/tests/Makefile xstc/Makefile include/libxml/xmlversion.h libxml-2.0.pc libxml-2.0-uninstalled.pc libxml2-config.cmake])
 AC_CONFIG_FILES([python/setup.py], [chmod +x python/setup.py])
 AC_CONFIG_FILES([xml2-config], [chmod +x xml2-config])
 AC_OUTPUT
